#include <stdio.h> // 잘 모르겠습니다.
#include <stdlib.h> // 잘 모르겠습니다.
#include <time.h> // 잘 모르겠습니다.

int main(void) // 프로그램의 시작점
{ //시작점
    int ball[3]; //입력이 3를 준거다.
    srand(time(NULL)); // 잘 모르겠습니다.

    do { //동일한 코드를 특정 조건일때 반복한다.
        ball[0] = rand() % 10; //0~9까지 랜덤한 숫자를 부여한다 // [수정함: 주석만 올바르게 수정]
        ball[1] = rand() % 10; //0~9까지 랜덤한 숫자를 부여한다 // [수정함]
        ball[2] = rand() % 10; //0~9까지 랜덤한 숫자를 부여한다 // [수정함]
    } while (ball[0] == ball[1] || ball[0] == ball[2] || ball[1] == ball[2]); //서로 다른 숫자가 나올때까지 문한반복.
     /*
     printf("baseball : %d %d %d\n", ball[0], ball[1], ball[2]); 랜덤하게 만든 숫자를 3개를 보여준다. (답지)
     */

    int try_count = 0;   // 목적은 내가 몇번을 실행을 했는지 카운트 해준다.

    while(1) // 무한 반복문 조건인 만족 할때까지 실행한다.
    { //반복문 시작점
        printf("\n==============================\n"); 
        printf("   Try: %d / 10\n", try_count);
        printf("==============================\n\n");

        int input[3];
        printf("Enter the first number: ");
        scanf("%d", &input[0]);

        printf("Enter the second number: ");
        scanf("%d", &input[1]);

        printf("Enter the third number: ");
        scanf("%d", &input[2]);

        printf("input : %d %d %d\n", input[0], input[1], input[2]);

        try_count++;

        int strike_count = 0;
        int ball_count = 0;
        int out_count = 3;

    //-----------------------------
    // Strike/Ball 중복 계산 방지 수정
    //-----------------------------

    if( ball[0] == input[0] )
    {
        strike_count = strike_count + 1 ;
        out_count = out_count - 1 ;
    }
    else if( ball[0] == input[1] || ball[0] == input[2] ) // [수정함: else if로 변경하여 Strike 중복 Ball 방지]
    {
        ball_count = ball_count + 1 ;
        out_count = out_count - 1 ;
    }

    if( ball[1] == input[1])
    {
        strike_count = strike_count + 1 ;
        out_count = out_count - 1 ;
    }
    else if( ball[1] == input[0] || ball[1] == input[2] ) // [수정함]
    {
        ball_count = ball_count + 1 ;
        out_count = out_count - 1 ;
    }

    if( ball[2] == input[2])
    {
        strike_count = strike_count + 1 ;
        out_count = out_count - 1 ;
    }
    else if( ball[2] == input[0] || ball[2] == input[1] ) // [수정함]
    {
        ball_count = ball_count + 1 ;
        out_count = out_count - 1 ;
    }

    //-----------------------------
    // 여기까지 strike/ball 중복 계산 방지 로직 수정 완료
    //-----------------------------

    if( ball[0] == input[0] && ball[1] == input[1] && ball[2] == input[2] )
    {
        printf("Home Run~\n") ;
        return 0;
    }
    else
    {
        printf("%d Strike, %d Ball, %d Out\n", strike_count, ball_count, out_count) ;
    }

        if (try_count >= 10)
        {
            printf("\n==============================\n");
            printf("        Game Over!\n");
            printf("==============================\n");
            return 0;
        }
    } // 문한 반복문 종료점

    return 0; 
} //종료점
